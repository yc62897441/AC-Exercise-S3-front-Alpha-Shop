(()=>{"use strict";const e=document.querySelector("#hamburger-checkbox"),t=document.querySelector(".dark-mode-switch"),n=document.querySelectorAll(".ship-radio"),s=document.querySelectorAll(".button-plus"),c=document.querySelectorAll(".button-minus"),i=document.querySelector(".button-prev"),o=document.querySelector(".button-next"),r=function(e){if(e.target.classList.contains("button-plus")){const t=Number(e.target.parentElement.children[1].textContent),n=t+1;e.target.parentElement.children[1].textContent=n,l.setItemTotalPrice(e,t,n)}else if(e.target.classList.contains("button-minus")){const t=Number(e.target.parentElement.children[1].textContent);if(t<2)return;const n=t-1;e.target.parentElement.children[1].textContent=n,l.setItemTotalPrice(e,t,n)}},a={step:1,ItemsTotalPrice:0},l={setStepCondition:function(){const e=document.querySelectorAll(".circle"),t=document.querySelectorAll(".connect-line");1===a.step?(e[0].classList.add("active"),e[0].classList.remove("checked"),e[1].classList.remove("active"),t[0].classList.add("active"),t[1].classList.remove("active")):2===a.step?(e[0].classList.add("checked"),e[0].classList.remove("active"),e[1].classList.add("active"),e[1].classList.remove("checked"),e[2].classList.remove("active"),t[1].classList.add("active")):3===a.step&&(e[1].classList.add("checked"),e[1].classList.remove("active"),e[2].classList.add("active"))},setFormCondition:function(){const e=document.querySelectorAll(".part");1===a.step?(e[0].classList.remove("disabled"),e[1].classList.add("disabled")):2===a.step?(e[0].classList.add("disabled"),e[1].classList.remove("disabled"),e[2].classList.add("disabled")):3===a.step&&(e[1].classList.add("disabled"),e[2].classList.remove("disabled"))},setBtnCondition:function(){1===a.step?i.setAttribute("disabled","disabled"):2===a.step?(i.removeAttribute("disabled"),o.innerHTML="下一步 &#129058"):3===a.step&&(o.innerHTML="確認下單")},setItemTotalPrice:function(e,t,n){const s=Number(e.target.parentElement.parentElement.children[2].textContent)/t*n;e.target.parentElement.parentElement.children[2].textContent=s,l.setItemsTotalPrice()},setItemsTotalPrice:function(){const e=document.querySelectorAll(".item-total-price");let t=0;e.forEach((e=>{t+=Number(e.textContent)})),a.ItemsTotalPrice=t,l.setItemsAndShipTotalPrice(a.ItemsTotalPrice)},setItemsAndShipTotalPrice:function(e){const t=document.querySelector(".total-price-wrapper").children[1],n=document.querySelector(".ship-price-wrapper").children[1].textContent;t.textContent="免費"===n?e:e+Number(n)}};l.setItemsTotalPrice(),e.addEventListener("click",(function(){!function(){const e=document.querySelector("#nav");e.classList.contains("checked")?e.classList.remove("checked"):e.classList.add("checked")}()})),t.addEventListener("change",(function(e){!function(e){e.target.checked?document.documentElement.setAttribute("data-theme","dark"):document.documentElement.setAttribute("data-theme","light")}(e)})),o.addEventListener("click",(function(e){!function(e){if(e.preventDefault(),1<=a.step&&a.step<3)a.step+=1,l.setStepCondition(),l.setFormCondition(),l.setBtnCondition(),3===a.step&&o.setAttribute("type","sumbit");else{if(3!==a.step)return;console.log("post form content")}}(e)})),i.addEventListener("click",(function(e){!function(e){e.preventDefault(),1<a.step&&a.step<=3&&(a.step-=1,l.setStepCondition(),l.setFormCondition(),l.setBtnCondition(),3!==a.step&&o.removeAttribute("type","submit"))}(e)})),s.forEach((e=>e.addEventListener("click",(function(e){r(e)})))),c.forEach((e=>e.addEventListener("click",(function(e){r(e)})))),n.forEach((e=>e.addEventListener("click",(function(e){!function(e){const t=e.target.parentElement.children[1].children[1].children[0].textContent;document.querySelector(".ship-price-wrapper").children[1].textContent=t,l.setItemsAndShipTotalPrice(a.ItemsTotalPrice)}(e)}))))})();